<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
    <meta name="author" content="小古" />
    <title>小古导航 - 打破信息差，精选实用工具与优质网址资源导航</title>
    <meta name="keywords" content="小古导航,网址导航,资源导航,效率工具,实用网站,办公神器,AI工具">
    <meta name="description" content="小古导航 - 打破信息差，发现工具新世界。精选全网最实用的办公工具、效率利器、设计素材及AI辅助网站。">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="小古导航 - 打破信息差，发现工具新世界">
    <meta property="og:description" content="精选全网最实用的办公工具、效率利器、设计素材及AI辅助网站。">
    <meta property="og:image" content="assets/images/favicon1.png">
    <meta property="og:locale" content="zh_CN">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="小古导航 - 打破信息差，发现工具新世界">
    <meta name="twitter:description" content="精选全网最实用的办公工具、效率利器、设计素材及AI辅助网站。">
    <meta name="twitter:image" content="assets/images/favicon1.png">

    <!-- 其他SEO优化 -->
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#3b82f6">

    <link rel="shortcut icon" href="assets/images/favicon1.png">
    <link rel="apple-touch-icon" href="assets/images/favicon1.png">
    <link rel="stylesheet" href="assets/css/fonts/fontawesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="assets/css/hero-section.css">
    <link rel="stylesheet" href="assets/css/xenon-core.css">
    <link rel="stylesheet" href="assets/css/xenon-components.css">
    <link rel="stylesheet" href="assets/css/bootstrap.css">
    <link rel="stylesheet" href="assets/css/nav.css">
    <link rel="stylesheet" href="assets/css/contact.css">
    <link rel="stylesheet" href="assets/css/font-update.css">
    <link rel="stylesheet" href="assets/css/search-component.css">
    <link rel="stylesheet" href="assets/css/announcement-feishu.css">
    <link rel="stylesheet" href="assets/css/responsive.css">
    <link rel="stylesheet" href="assets/css/mobile-enhancements.css">
    <link rel="stylesheet" href="assets/css/back-to-top.css">
    <style>
        /* 全局滚动条样式 */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background: rgba(156, 163, 175, 0.4);
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: rgba(156, 163, 175, 0.6);
        }
        /* Firefox */
        * {
            scrollbar-width: thin;
            scrollbar-color: rgba(156, 163, 175, 0.4) transparent;
        }

        /* 移动端隐藏侧边栏 */
        @media (max-width: 768px) {
            .sidebar-menu,
            .page-sidebar {
                display: none !important;
            }
            .main-content {
                margin-left: 0 !important;
                padding: 0 10px !important;
            }
            .main-container {
                padding: 0 !important;
            }
            /* 移动端卡片网格 */
            .row {
                margin: 0 -5px !important;
            }
            .col-sm-3 {
                width: 50% !important;
                padding: 5px !important;
            }
            .xe-widget {
                margin-bottom: 0 !important;
                padding: 12px !important;
            }
            .xe-widget .xe-comment-entry {
                padding: 0 !important;
            }
            .xe-widget .xe-user-img {
                width: 36px !important;
                height: 36px !important;
                min-width: 36px !important;
            }
            .xe-widget .xe-user-img img,
            .xe-widget .xe-user-img span {
                width: 36px !important;
                height: 36px !important;
                font-size: 14px !important;
            }
            .xe-widget .title {
                font-size: 13px !important;
            }
            .xe-widget .desc {
                font-size: 11px !important;
                -webkit-line-clamp: 1 !important;
            }
            /* 移动端标题优化 */
            .nav-item h4.text-gray {
                font-size: 15px !important;
                margin: 14px 0 8px 0 !important;
                padding: 0 5px !important;
            }
            /* 移动端顶部区域 */
            .stats-container {
                padding: 25px 0 0 !important;
            }
            .stats-title {
                font-size: 20px !important;
                letter-spacing: 1px !important;
                margin-top: 15px !important;
                margin-bottom: 15px !important;
            }
            /* 移动端广告栏 */
            #ad-banner {
                margin: 12px auto !important;
                gap: 6px !important;
                flex-wrap: wrap !important;
                justify-content: center !important;
            }
            #ad-banner a {
                font-size: 11px !important;
                padding: 5px 10px !important;
            }
            /* 移动端公告 */
            #announcementMessage {
                font-size: 12px !important;
                padding: 10px 32px 10px 12px !important;
            }
            /* 移动端搜索框 */
            .modern-search-container {
                margin: 15px auto !important;
                max-width: calc(100% - 20px) !important;
            }
            .modern-search-input {
                padding: 12px 8px !important;
                font-size: 14px !important;
            }
            /* 移动端底部信息框 */
            .footer-container {
                margin: 15px 5px !important;
                padding: 15px !important;
            }
        }

        /* 公告系统动画效果 */
        @keyframes announcementSlideIn {
            0% {
                opacity: 0;
                transform: translateY(-20px) scale(0.95);
            }

            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes backgroundShimmer {

            0%,
            100% {
                opacity: 0.3;
                transform: rotate(0deg);
            }

            50% {
                opacity: 0.6;
                transform: rotate(180deg);
            }
        }

        @keyframes announcementSlideOut {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }

            100% {
                opacity: 0;
                transform: translateY(-20px) scale(0.95);
            }
        }

        /* 公告容器显示状态 */
        .announcement-container.show {
            display: block !important;
        }

        /* 美化公告栏样式 */
        #announcementMessage {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.08) 0%, rgba(147, 51, 234, 0.06) 100%) !important;
            border: 1px solid rgba(59, 130, 246, 0.2) !important;
            border-radius: 12px !important;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.5) !important;
            backdrop-filter: blur(10px) !important;
            -webkit-backdrop-filter: blur(10px) !important;
        }

        /* 禁用公告悬停效果 */
        #announcementMessage:hover,
        .announcement-message:hover,
        .announcement-container:hover,
        .announcement-container *:hover {
            transform: none !important;
            box-shadow: none !important;
        }

        .announcement-container,
        .announcement-message,
        .announcement-close-btn {
            transition: none !important;
        }

        .announcement-close-btn:hover {
            transform: translateY(-50%) !important;
            background: transparent !important;
        }

        /* 公告链接样式 - 更醒目 */
        .announcement-text a {
            color: #3b82f6 !important;
            text-decoration: none !important;
            font-weight: 600 !important;
            transition: all 0.2s ease !important;
            border-bottom: 1px dashed rgba(59, 130, 246, 0.4) !important;
            padding-bottom: 1px !important;
        }

        .announcement-text a:hover {
            color: #2563eb !important;
            border-bottom-color: #2563eb !important;
            border-bottom-style: solid !important;
        }

        /* 背景浮动动画 */
        @keyframes backgroundFloat {

            0%,
            100% {
                transform: translateY(0px) rotate(0deg);
                opacity: 0.6;
            }

            33% {
                transform: translateY(-20px) rotate(120deg);
                opacity: 0.8;
            }

            66% {
                transform: translateY(10px) rotate(240deg);
                opacity: 0.7;
            }
        }

        /* 优化主容器背景 */
        .stats-container {
            background: transparent !important;
            backdrop-filter: none !important;
            -webkit-backdrop-filter: none !important;
            border: none !important;
            box-shadow: none !important;
            margin: 0 !important;
        }

        /* 优化网站卡片背景 */
        .xe-widget {
            background: rgba(255, 255, 255, 0.9) !important;
            backdrop-filter: blur(8px) !important;
            border: 1px solid rgba(200, 200, 200, 0.3) !important;
            transition: border-color 0.15s ease !important;
        }

        .xe-widget:hover {
            background: rgba(255, 255, 255, 0.95) !important;
            transform: none !important;
            box-shadow: none !important;
            border-color: #3b82f6 !important;
            transition: border-color 0.15s ease !important;
        }

        /* 历史记录删除按钮悬停显示 */
        .xe-widget:hover .delete-history-btn {
            opacity: 1 !important;
        }

        /* 底部统计框禁用悬停效果 */
        .footer-container.xe-widget:hover {
            transform: none !important;
            box-shadow: none !important;
            background: rgba(255, 255, 255, 0.9) !important;
        }

        /* 简洁分类标题样式 - 无图标加粗版 */
        .nav-item h4.text-gray {
            background: transparent !important;
            backdrop-filter: none !important;
            -webkit-backdrop-filter: none !important;
            border: none !important;
            border-radius: 0 !important;
            padding: 12px 0 8px 0 !important;
            margin: 20px 0 15px 0 !important;
            color: #333 !important;
            font-weight: 700 !important;
            font-size: 18px !important;
            letter-spacing: 0.5px !important;
            box-shadow: none !important;
            transition: all 0.2s ease !important;
            display: flex !important;
            align-items: center !important;
            justify-content: flex-start !important;
            position: relative !important;
            border-bottom: none !important;
            padding-bottom: 0 !important;
        }

        .nav-item h4.text-gray:hover {
            color: #222 !important;
            transform: none !important;
            box-shadow: none !important;
            background: transparent !important;
            border-bottom: none !important;
        }

        .nav-item h4.text-gray .nav-count {
            background: rgba(37, 99, 235, 0.1) !important;
            color: #2563eb !important;
            padding: 4px 12px !important;
            border-radius: 16px !important;
            font-size: 12px !important;
            font-weight: 600 !important;
            border: 1px solid rgba(37, 99, 235, 0.2) !important;
            margin-left: auto !important;
            min-width: 28px !important;
            text-align: center !important;
            box-shadow: none !important;
            text-shadow: none !important;
            transition: all 0.2s ease !important;
            height: auto !important;
            display: inline-flex !important;
            align-items: center !important;
            justify-content: center !important;
        }

        .nav-item h4.text-gray:hover .nav-count {
            background: rgba(37, 99, 235, 0.15) !important;
            border-color: rgba(37, 99, 235, 0.3) !important;
            transform: none !important;
            box-shadow: none !important;
        }

        /* 侧边栏整体背景色和宽度调整 */
        .sidebar-menu,
        .sidebar-menu.toggle-others,
        .sidebar-menu.fixed,
        .page-container .sidebar-menu,
        body .sidebar-menu {
            background: #f3f3f3 !important;
            background-color: #f3f3f3 !important;
            background-image: none !important;
            width: 260px !important;
            /* 调整侧边栏宽度，往右移动 */
        }

        .sidebar-menu-inner,
        .sidebar-menu .sidebar-menu-inner {
            background: #f3f3f3 !important;
            background-color: #f3f3f3 !important;
            background-image: none !important;
        }

        /* 主内容区域左边距调整 */
        .main-content {
            margin-left: 270px !important;
            /* 对应侧边栏宽度，往右移动 */
        }

        /* 强制覆盖所有可能的侧边栏背景样式 */
        .sidebar-menu::before,
        .sidebar-menu::after,
        .sidebar-menu-inner::before,
        .sidebar-menu-inner::after {
            display: none !important;
        }

        .sidebar-menu .simple-logo {
            background: #f3f3f3 !important;
            background-color: #f3f3f3 !important;
        }

        /* 侧边栏分类样式 - 完整圆角矩形，四周留空白一致 */
        .sidebar-menu .menu-content1,
        .sidebar-menu-inner .menu-content1,
        body .sidebar-menu .menu-content1 {
            background: rgba(255, 255, 255, 0.95) !important;
            backdrop-filter: blur(10px) !important;
            -webkit-backdrop-filter: blur(10px) !important;
            border: 1px solid rgba(255, 255, 255, 0.3) !important;
            border-radius: 20px !important;
            padding: 10px 18px 10px 8px !important;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1) !important;
            position: fixed !important;
            top: 65px !important;
            left: 35px !important;
            bottom: 20px !important;
            width: calc(260px - 30px) !important;
            height: calc(100vh - 75px) !important;
            max-height: calc(100vh - 75px) !important;
            overflow-y: auto !important;
        }

        /* 强制在侧边栏底部添加空白 */
        .sidebar-menu::after {
            content: "" !important;
            display: block !important;
            height: 40px !important;
            width: 100% !important;
            position: fixed !important;
            bottom: 0 !important;
            left: 0 !important;
            background: transparent !important;
            pointer-events: none !important;
        }

        /* 侧边栏滚动条样式和滚动隔离 */
        .sidebar-menu .menu-content1 {
            overscroll-behavior: contain !important;
            overscroll-behavior-y: contain !important;
            overscroll-behavior-x: none !important;
            scroll-behavior: smooth !important;
            touch-action: pan-y !important;
        }

        .sidebar-menu .menu-content1::-webkit-scrollbar {
            width: 5px !important;
        }

        .sidebar-menu .menu-content1::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.03) !important;
            border-radius: 3px !important;
        }

        .sidebar-menu .menu-content1::-webkit-scrollbar-thumb {
            background: rgba(59, 130, 246, 0.25) !important;
            border-radius: 3px !important;
        }

        .sidebar-menu .menu-content1::-webkit-scrollbar-thumb:hover {
            background: rgba(59, 130, 246, 0.4) !important;
        }

        /* 确保侧边栏整体滚动隔离 */
        .sidebar-menu,
        .sidebar-menu-inner {
            overscroll-behavior: contain !important;
            overscroll-behavior-y: contain !important;
            overscroll-behavior-x: none !important;
            touch-action: pan-y !important;
        }

        /* 主内容区域滚动隔离 */
        .main-content {
            overscroll-behavior: auto !important;
            overscroll-behavior-y: auto !important;
            overscroll-behavior-x: none !important;
        }

        .sidebar-menu .main-menu {
            padding: 0 !important;
            margin: 0 !important;
        }

        .sidebar-menu .main-menu li {
            margin-bottom: 2px !important;
        }

        .sidebar-menu .main-menu li a {
            background: transparent !important;
            border: none !important;
            border-radius: 12px !important;
            margin: 0 2px !important;
            padding: 12px 16px !important;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
            display: block !important;
            color: #333 !important;
            font-weight: 500 !important;
            font-size: 15px !important;
            line-height: 1.4 !important;
            position: relative !important;
            overflow: hidden !important;
            transform-origin: left center !important;
        }

        .sidebar-menu .main-menu li a::before {
            content: '' !important;
            position: absolute !important;
            top: 0 !important;
            left: 0 !important;
            width: 0 !important;
            height: 100% !important;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(59, 130, 246, 0.08)) !important;
            transition: width 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
            border-radius: 12px !important;
            z-index: -1 !important;
        }

        .sidebar-menu .main-menu li a::after {
            content: '' !important;
            position: absolute !important;
            top: 50% !important;
            left: -10px !important;
            width: 4px !important;
            height: 0 !important;
            background: #3b82f6 !important;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
            border-radius: 2px !important;
            transform: translateY(-50%) !important;
        }

        .sidebar-menu .main-menu li a:hover::before {
            width: 100% !important;
        }

        .sidebar-menu .main-menu li a:hover::after {
            height: 60% !important;
            left: 4px !important;
        }

        .sidebar-menu .main-menu li a:hover,
        .sidebar-menu .main-menu li a.active {
            color: #3b82f6 !important;
            transform: translateX(8px) !important;
            font-weight: 600 !important;
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.12) !important;
        }

        /* 激活状态的平滑过渡 */
        .sidebar-menu .main-menu li a.active {
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
        }

        /* 激活状态的渐进显示 */
        .sidebar-menu .main-menu li a.active::before {
            width: 100% !important;
            transition: width 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
        }

        .sidebar-menu .main-menu li a.active::after {
            height: 60% !important;
            left: 4px !important;
            transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
        }

        .sidebar-menu .main-menu li a:active {
            transform: translateX(6px) scale(0.98) !important;
            transition: all 0.1s ease !important;
        }

        .sidebar-menu .main-menu li ul {
            margin-top: 2px !important;
            padding-left: 0 !important;
        }

        .sidebar-menu .main-menu li ul li {
            margin-bottom: 1px !important;
        }

        .sidebar-menu .main-menu li ul li a {
            background: transparent !important;
            margin-left: 12px !important;
            padding: 6px 10px !important;
            font-size: 13px !important;
            color: #666 !important;
            line-height: 1.3 !important;
        }

        .sidebar-menu .main-menu li ul li a:hover {
            background: rgba(59, 130, 246, 0.05) !important;
            color: #3b82f6 !important;
        }

        /* 页脚动画样式 */
        @keyframes shimmer {

            0%,
            100% {
                transform: translateX(-100%);
            }

            50% {
                transform: translateX(100%);
            }
        }

        /* 加载动画 */
        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* 移动端专用样式 - 隐藏侧边栏，主内容占满全屏 */
        @media (max-width: 768px) {
            /* 完全隐藏侧边栏相关元素 */
            .sidebar-menu,
            .mobile-menu-toggle,
            .mobile-overlay {
                display: none !important;
                visibility: hidden !important;
                opacity: 0 !important;
                pointer-events: none !important;
            }
            
            /* 主内容区域占满全屏 */
            .main-content {
                margin-left: 0 !important;
                width: 100% !important;
                padding: 16px !important;
                min-height: 100vh !important;
            }
            
            /* 页面容器调整 */
            .page-container {
                padding-left: 0 !important;
                width: 100% !important;
            }
            
            /* 确保主容器占满全屏 */
            .main-container {
                width: 100% !important;
                max-width: 100% !important;
                margin: 0 !important;
                padding: 0 !important;
            }
            
            /* 统计容器调整 */
            .stats-container {
                padding: 40px 16px 20px !important;
                margin: 0 !important;
            }
            
            /* 标题调整 */
            .stats-title {
                font-size: 24px !important;
                letter-spacing: 2px !important;
                margin: 20px 0 !important;
                padding: 0 8px !important;
            }
            
            /* 公告系统调整 */
            .announcement-container {
                margin: 15px 8px !important;
                width: calc(100% - 16px) !important;
            }
            
            /* 搜索组件调整 */
            .search {
                margin: 0 8px 20px !important;
                width: calc(100% - 16px) !important;
            }
            
            /* 导航列表调整 */
            #nav-list {
                padding: 0 8px !important;
                width: calc(100% - 16px) !important;
            }
            
            /* 网站卡片调整 */
            .xe-widget {
                margin-bottom: 16px !important;
            }
            
            /* 移动端顶部导航栏 */
            .mobile-top-nav {
                position: fixed !important;
                top: 0 !important;
                left: 0 !important;
                right: 0 !important;
                height: 60px !important;
                background: rgba(255, 255, 255, 0.95) !important;
                backdrop-filter: blur(10px) !important;
                -webkit-backdrop-filter: blur(10px) !important;
                border-bottom: 1px solid rgba(0, 0, 0, 0.05) !important;
                z-index: 1000 !important;
                display: flex !important;
                align-items: center !important;
                justify-content: space-between !important;
                padding: 0 16px !important;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05) !important;
            }
            
            /* 左侧logo区域 */
            .mobile-logo {
                display: flex !important;
                align-items: center !important;
                gap: 8px !important;
                text-decoration: none !important;
                color: #333 !important;
                font-weight: 600 !important;
                font-size: 16px !important;
                letter-spacing: 1px !important;
            }
            
            .mobile-logo img {
                width: 24px !important;
                height: 24px !important;
                object-fit: contain !important;
            }
            
            /* 移动端顶部导航栏 */
            .mobile-top-nav {
                position: fixed !important;
                top: 0 !important;
                left: 0 !important;
                right: 0 !important;
                height: 60px !important;
                background: rgba(255, 255, 255, 0.95) !important;
                backdrop-filter: blur(10px) !important;
                -webkit-backdrop-filter: blur(10px) !important;
                border-bottom: 1px solid rgba(0, 0, 0, 0.05) !important;
                z-index: 1000 !important;
                display: flex !important;
                align-items: center !important;
                justify-content: space-between !important;
                padding: 0 16px !important;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05) !important;
            }
            
            /* 左侧logo区域 */
            .mobile-logo {
                display: flex !important;
                align-items: center !important;
                gap: 8px !important;
                text-decoration: none !important;
                color: #333 !important;
                font-weight: 600 !important;
                font-size: 16px !important;
                letter-spacing: 1px !important;
            }
            
            .mobile-logo img {
                width: 24px !important;
                height: 24px !important;
                object-fit: contain !important;
            }
            
            /* 右上角功能按钮调整 */
            .top-function-area {
                position: relative !important;
                top: auto !important;
                right: auto !important;
                gap: 8px !important;
                flex-direction: row !important;
                align-items: center !important;
            }
            
            .top-function-button {
                padding: 8px 12px !important;
                font-size: 12px !important;
                min-width: 60px !important;
                border-radius: 16px !important;
                backdrop-filter: blur(10px) !important;
                -webkit-backdrop-filter: blur(10px) !important;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08) !important;
                transition: all 0.3s ease !important;
                white-space: nowrap !important;
                letter-spacing: 0.3px !important;
            }
            
            /* 主内容区域顶部留空 */
            .main-content {
                padding-top: 80px !important;
            }
        }
        
        /* 小屏幕进一步优化 */
        @media (max-width: 480px) {
            .stats-title {
                font-size: 20px !important;
                letter-spacing: 1px !important;
            }
            
            .top-function-area {
                flex-direction: column !important;
                gap: 8px !important;
                align-items: flex-end !important;
            }
            
            .top-function-button {
                padding: 6px 10px !important;
                font-size: 12px !important;
                min-width: 60px !important;
            }
        }
    </style>
    <script src="assets/js/jquery-1.11.1.min.js"></script>
    <script src="assets/js/art-template.js"></script>
    <script src="assets/js/mobile-optimizer.js"></script>
    <script src="assets/js/performance-monitor.js"></script>
    <script src="assets/js/back-to-top-enhanced.js"></script>
    <script src="assets/js/source.js"></script>
    <script async src="https://hm.baidu.com/hm.js?193b12c1d2e86b55378df6ab2b47e6d5"></script>

</head>

<body class="page-body" style="
    position: relative;
    min-height: 100vh;
    background: transparent;
    overflow-x: hidden;
">
    <!-- Dreamy Sky Pink Glow Background -->
    <div class="dreamy-sky-bg" style="
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
        background-image: 
            radial-gradient(circle at 30% 70%, rgba(173, 216, 230, 0.45), transparent 50%),
            radial-gradient(circle at 70% 30%, rgba(255, 182, 193, 0.5), transparent 50%),
            radial-gradient(circle at 20% 20%, rgba(173, 216, 230, 0.25), transparent 40%),
            radial-gradient(circle at 80% 80%, rgba(255, 182, 193, 0.3), transparent 45%);
        pointer-events: none;
        min-height: 100vh;
    "></div>
    <!-- 移动端顶部导航栏 - 只在移动端显示 -->
    <div class="mobile-top-nav" style="display: none;">
        <a href="index.html" class="mobile-logo">
            <img src="assets/images/favicon1 (1).png" alt="小古导航">
            小古导航
        </a>
    </div>

    <div class="page-container">
        <!-- 汉堡菜单按钮 -->
        <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="打开导航菜单">
            <div class="hamburger-icon">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </button>
        
        <!-- 移动端遮罩层 -->
        <div class="mobile-overlay" id="mobileOverlay"></div>
        
        <div class="sidebar-menu toggle-others fixed">
            <div class="sidebar-menu-inner">
                <!-- 简化的logo区域 -->
                <div class="simple-logo" style="
                    background: #f3f3f3 !important;
                    background-color: #f3f3f3 !important;
                    border: none !important;
                    padding: 18px 0 18px 70px !important;
                    margin: 0 !important;
                    text-align: left !important;
                    display: flex !important;
                    align-items: center !important;
                ">
                    <a href="index.html" style="
                        text-decoration: none;
                        color: #333;
                        font-size: 18px;
                        font-weight: 700;
                        letter-spacing: 1px;
                        background: transparent;
                        border: none;
                        box-shadow: none;
                        display: flex;
                        align-items: center;
                        gap: 12px;
                        padding-left: 5px;
                    ">
                        <img src="assets/images/favicon1 (1).png" alt="小古导航" style="
                            width: 24px;
                            height: 24px;
                            object-fit: contain;
                            margin-left: -5px;
                        ">
                        小古导航
                    </a>
                </div>


                <div id="menu-content" class="menu-content1"></div>
                <!-- <div class="b">
				        <div style="cursor: pointer;text-decoration: none;">网站提交</div>
				        <div id="clear-cache-btn""><i class="fa-solid fa-star"></i>清理缓存</div>
				</div> -->

            </div>
        </div>




        <div class="main-content">

            <!-- 导航栏 -->

            <!-- 直达顶部 -->
            <a href="javascript:void(0);" id="back-to-top" aria-label="返回顶部">
                <img src="assets/images/arrow-up.svg" alt="返回顶部" loading="lazy">
            </a>
            <!-- 首页 -->
            <div class="main-container">

                <div class="stats-container" style="background: transparent; padding: 60px 0 0px;">
                    <div class="stats-title"
                        style="font-size: 32px; letter-spacing: 4px; color: #333; font-weight: 600; margin-top: 40px; margin-bottom: 30px; text-align: center; line-height: 1.4; text-shadow: 0 2px 4px rgba(255, 255, 255, 0.8);">
                        打破<span style="color: #3b82f6; font-weight: 700;">信息差</span>，发现工具新世界</div>

                    <!-- 飞书风格公告系统 - 居中显示 -->
                    <div class="announcement-container" id="announcementContainer" style="
                        position: relative;
                        margin: 15px auto;
                        display: block;
                        text-align: center;
                        width: 100%;
                    ">
                        <div class="announcement-message" id="announcementMessage" style="
                            position: relative;
                            padding: 14px 45px 14px 18px;
                            background: rgba(59, 130, 246, 0.08);
                            border: 1px solid rgba(59, 130, 246, 0.15);
                            border-radius: 10px;
                            color: #1f2329;
                            text-align: center;
                            font-size: 14px;
                            font-weight: 400;
                            line-height: 1.6;
                            letter-spacing: 1px;
                            overflow: hidden;
                            width: fit-content;
                            max-width: calc(100% - 40px);
                            margin: 0 auto;
                            display: inline-block;
                        ">
                            <!-- 公告文本 -->
                            <span class="announcement-text" style="
                                color: #1f2329;
                                vertical-align: middle;
                            ">加载中...</span>

                            <!-- 关闭按钮 -->
                            <button class="announcement-close-btn" onclick="closeAnnouncement()" style="
                                position: absolute;
                                right: 8px;
                                top: 50%;
                                transform: translateY(-50%);
                                background: transparent;
                                border: none;
                                color: #8f959e;
                                cursor: pointer;
                                font-size: 16px;
                                width: 20px;
                                height: 20px;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                z-index: 3;
                            ">×</button>
                        </div>
                    </div>

                    <!-- 现代化搜索组件 -->
                    <div class="search" style="margin-bottom: 0px;">
                        <!-- 搜索组件将通过JavaScript动态生成 -->
                    </div>
                    <script>
                        document.addEventListener('DOMContentLoaded', function () {
                            new SearchComponent();
                        });
                    </script>
                </div>
                <!-- 搜索 -->

                <!-- 精品推荐区 - 从配置文件加载 -->
                <div id="ad-banner" class="recommend-banner" style="
                    display: flex;
                    gap: 10px;
                    margin: 20px auto;
                    padding: 0;
                    flex-wrap: wrap;
                    justify-content: center;
                    max-width: 650px;
                "></div>


                <!-- 加载指示器 -->
                <div id="loading-indicator" style="
                    text-align: center;
                    padding: 60px 0;
                    color: #64748b;
                    font-size: 16px;
                    font-weight: 500;
                ">
                    <div style="
                        display: inline-block;
                        width: 40px;
                        height: 40px;
                        border: 3px solid rgba(59, 130, 246, 0.2);
                        border-top: 3px solid #3b82f6;
                        border-radius: 50%;
                        animation: spin 1s linear infinite;
                        margin-bottom: 15px;
                    "></div>
                    <div>正在加载网站数据...</div>
                </div>

                <!-- 列表 -->
                <div id="nav-list"></div>
                <!-- 底部 -->
                <div class="footer-container xe-widget" id="footer-container" style="
                    display: none;
                    border-radius: 20px;
                    margin: 25px 0 20px 0;
                    padding: 20px 30px;
                    position: relative;
                    overflow: hidden;
                ">
                    <!-- 多层装饰性背景元素 -->
                    <div style="
                        position: absolute;
                        top: -60%;
                        right: -25%;
                        width: 280px;
                        height: 280px;
                        background: linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(147, 197, 253, 0.04));
                        border-radius: 50%;
                        pointer-events: none;
                        animation: backgroundFloat 8s ease-in-out infinite;
                    "></div>

                    <div style="
                        position: absolute;
                        bottom: -40%;
                        left: -15%;
                        width: 200px;
                        height: 200px;
                        background: linear-gradient(45deg, rgba(139, 92, 246, 0.06), rgba(168, 85, 247, 0.03));
                        border-radius: 50%;
                        pointer-events: none;
                        animation: backgroundFloat 10s ease-in-out infinite reverse;
                    "></div>

                    <!-- 动态网站统计信息 -->
                    <div style="
                        text-align: center;
                        margin-bottom: 12px;
                        position: relative;
                        z-index: 3;
                    ">
                        <div style="
                            display: inline-flex;
                            gap: 20px;
                            align-items: center;
                            justify-content: center;
                            flex-wrap: wrap;
                            margin-bottom: 8px;
                        ">
                            <div style="
                                display: flex;
                                flex-direction: column;
                                align-items: center;
                                gap: 3px;
                            ">
                                <span id="total-sites" style="
                                    font-size: 22px;
                                    font-weight: 700;
                                    color: #3b82f6;
                                    text-shadow: 0 1px 2px rgba(59, 130, 246, 0.2);
                                ">0</span>
                                <span style="
                                    font-size: 11px;
                                    color: #64748b;
                                    font-weight: 500;
                                    letter-spacing: 0.3px;
                                ">收录网站</span>
                            </div>

                            <div style="
                                width: 1px;
                                height: 30px;
                                background: linear-gradient(to bottom, transparent, rgba(148, 163, 184, 0.3), transparent);
                            "></div>

                            <div style="
                                display: flex;
                                flex-direction: column;
                                align-items: center;
                                gap: 3px;
                            ">
                                <span id="total-categories" style="
                                    font-size: 22px;
                                    font-weight: 700;
                                    color: #8b5cf6;
                                    text-shadow: 0 1px 2px rgba(139, 92, 246, 0.2);
                                ">0</span>
                                <span style="
                                    font-size: 11px;
                                    color: #64748b;
                                    font-weight: 500;
                                    letter-spacing: 0.3px;
                                ">分类导航</span>
                            </div>

                            <div style="
                                width: 1px;
                                height: 30px;
                                background: linear-gradient(to bottom, transparent, rgba(148, 163, 184, 0.3), transparent);
                            "></div>

                            <div style="
                                display: flex;
                                flex-direction: column;
                                align-items: center;
                                gap: 3px;
                            ">
                                <span id="runtime-days" style="
                                    font-size: 22px;
                                    font-weight: 700;
                                    color: #06b6d4;
                                    text-shadow: 0 1px 2px rgba(6, 182, 212, 0.2);
                                ">0</span>
                                <span style="
                                    font-size: 11px;
                                    color: #64748b;
                                    font-weight: 500;
                                    letter-spacing: 0.3px;
                                ">运行天数</span>
                            </div>
                        </div>

                        <!-- 搭建时间 -->
                        <p style="
                            margin: 0 0 8px 0;
                            font-size: 11px;
                            color: #94a3b8;
                            font-weight: 400;
                            letter-spacing: 0.2px;
                        ">
                            <i class="fa fa-calendar" style="margin-right: 4px; color: #8b5cf6; font-size: 10px;"></i>
                            网站搭建于 2022年1月 · 持续更新中
                        </p>
                    </div>

                    <!-- 版权信息 -->
                    <div style="
                        text-align: center;
                        margin-bottom: 20px;
                        position: relative;
                        z-index: 3;
                    ">
                        <p style="
                            margin: 0 0 12px 0;
                            font-size: 15px;
                            color: #475569;
                            font-weight: 500;
                            letter-spacing: 0.5px;
                            line-height: 1.7;
                        ">
                            © 2022 - 2025 By
                            <a style="
                                text-decoration: none;
                                color: #3b82f6;
                                font-weight: 600;
                                transition: all 0.3s ease;
                                border-bottom: 2px solid transparent;
                                padding: 2px 4px;
                                border-radius: 4px;
                            " href="https://github.com/WebStackPage" target="_blank"
                                onmouseover="this.style.color='#2563eb'; this.style.borderBottomColor='#2563eb'; this.style.background='rgba(59, 130, 246, 0.05)';"
                                onmouseout="this.style.color='#3b82f6'; this.style.borderBottomColor='transparent'; this.style.background='transparent';">
                                WebStack-Hugo
                            </a> |
                            <a style="
                                text-decoration: none;
                                color: #3b82f6;
                                font-weight: 600;
                                transition: all 0.3s ease;
                                border-bottom: 2px solid transparent;
                                padding: 2px 4px;
                                border-radius: 4px;
                            " href="https://github.com/danbaixi/zhanku" target="_blank"
                                onmouseover="this.style.color='#2563eb'; this.style.borderBottomColor='#2563eb'; this.style.background='rgba(59, 130, 246, 0.05)';"
                                onmouseout="this.style.color='#3b82f6'; this.style.borderBottomColor='transparent'; this.style.background='transparent';">
                                zhanku
                            </a> | <span style="
                                color: #3b82f6;
                                font-weight: 600;
                                padding: 2px 4px;
                            ">小古</span>
                        </p>
                    </div>

                    <!-- 免责声明 -->
                    <div style="
                        text-align: center;
                        padding-top: 0px;
                        border-top: 1px solid rgba(148, 163, 184, 0.15);
                        position: relative;
                        z-index: 3;
                    ">
                        <p style="
                            margin: 0;
                            font-size: 13px;
                            color: #94a3b8;
                            line-height: 1.7;
                            letter-spacing: 0.3px;
                            max-width: 600px;
                            margin: 0 auto;
                        ">
                            本站内容源于互联网转载或网友投稿，仅供学习交流使用。如有侵犯您的权益，请通过邮箱
                            <strong style="color: #64748b;">3197237971@qq.com</strong> 联系我们删除。
                            <span style="margin-left: 8px; color: #cbd5e1;">|</span>
                            <a href="javascript:void(0)" onclick="clearSiteCache()" style="
                                margin-left: 8px;
                                color: #94a3b8;
                                text-decoration: none;
                                font-size: 12px;
                                transition: color 0.2s ease;
                            " onmouseover="this.style.color='#ef4444'" onmouseout="this.style.color='#94a3b8'">清空缓存</a>
                        </p>
                    </div>

                    <!-- 彩虹装饰线 -->
                    <div style="
                        position: absolute;
                        bottom: 0;
                        left: 0;
                        width: 100%;
                        height: 4px;
                        background: linear-gradient(90deg, 
                            #3b82f6 0%, 
                            #8b5cf6 25%, 
                            #06b6d4 50%, 
                            #10b981 75%, 
                            #f59e0b 100%);
                        border-radius: 0 0 20px 20px;
                        opacity: 0.8;
                    "></div>

                    <!-- 闪烁效果 -->
                    <div style="
                        position: absolute;
                        bottom: 0;
                        left: 0;
                        width: 100%;
                        height: 4px;
                        background: linear-gradient(90deg, 
                            transparent 0%, 
                            rgba(255, 255, 255, 0.6) 50%, 
                            transparent 100%);
                        border-radius: 0 0 20px 20px;
                        animation: shimmer 3s ease-in-out infinite;
                    "></div>
                </div>


            </div>


        </div>
</body>

</html>
<!-- 目录模板 -->
<script id="menu" type="text/html">
<ul id="main-menu" class="main-menu">
{{each list l}}
<li>
    <a href="#{{l.title}}" class="smooth">
        <i class="fa fa-{{l.icon}}"></i>
        <span class="title">{{l.title}}</span>
        {{if l.label}}
        <span class="label pull-right hidden-collapsed label-{{l.label.color}}">{{l.label.title}}</span>
        {{/if}}
    </a>
    {{if l.child}}
        <ul>
            {{each l.child c}}
                <li><a href="#{{c.title}}" class="smooth">
                    <span class="title">{{c.title}}</span>
                    {{if c.label}}
                    <span class="label pull-right hidden-collapsed label-{{c.label.color}}">{{c.label.title}}</span>
                    {{/if}}
                </a></li>
            {{/each}}
        </ul>
    {{/if}}
</li>
{{/each}}
</ul>
</script>
<!-- 列表模板 -->
<script id="list" type="text/html">
{{each list l}}
    {{if l.nav}}
    <div class="nav-item" id="{{l.title}}">
        <h4 class="text-gray">
            {{l.title}}
            <span class="nav-count">{{ l.nav | getNavLength l.title}}</span>
        </h4>
        <div class="row">
            {{each l.nav n}}
            <div class="col-sm-3 col-lg-2 " >
                <div class="xe-widget xe-conversations box2 label-info site-box" data-toggle="tooltip" data-placement="bottom" title="{{n.desc}}" data-url="{{n.url}}" style="position: relative;">
                    {{if l.title == '最近使用'}}
                    <span class="delete-history-btn" data-url="{{n.url}}" onclick="event.stopPropagation(); deleteHistoryItem('{{n.url}}')" style="
                        position: absolute;
                        top: 8px;
                        right: 8px;
                        width: 24px;
                        height: 24px;
                        border-radius: 6px;
                        background: rgba(239, 68, 68, 0.1);
                        color: #ef4444;
                        font-size: 16px;
                        line-height: 24px;
                        text-align: center;
                        cursor: pointer;
                        z-index: 10;
                        transition: all 0.2s ease;
                        opacity: 0;
                        font-weight: 500;
                    " onmouseover="this.style.background='rgba(239, 68, 68, 0.9)'; this.style.color='#fff'" onmouseout="this.style.background='rgba(239, 68, 68, 0.1)'; this.style.color='#ef4444'">&times;</span>
                    {{/if}}
                    <div class="xe-comment-entry ">
                        <a class="xe-user-img" >
                            {{if n.image}}
                            <img data-src="{{n.image}}" class="lozad" loading="lazy" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';" alt="{{n.title}}">
                            <span style="display:none; background:{{n.title | randomColor}}" aria-label="{{n.title}}">{{n.title | titleFirstWord}}</span>
                            {{else}}
                            <span style="background:{{n.title | randomColor}}" aria-label="{{n.title}}">{{n.title | titleFirstWord}}</span>
                            {{/if}}
                        </a>
                        <div class="xe-comment">
                            <p class="title xe-user-name overflowClip_1" >{{n.title}}</p>
                            <p class="desc overflowClip_2">{{n.desc}}</p>
                        </div>
                    </div>
                </div>
            </div>
            {{/each}}
        </div>
    </div>
    {{/if}}

    {{if l.child}}
        {{each l.child c}}
        <div class="nav-item" id="{{c.title}}">
            <h4 class="text-gray">
                {{c.title}} 
                <span class="nav-count">{{c.nav | getNavLength c.title }}</span>
            </h4>
            <div class="row">
                {{each c.nav n}}
                <div class="col-sm-3 col-lg-2 ">
                    <div class="xe-widget xe-conversations box2 label-info site-box" data-toggle="tooltip" data-placement="bottom" title="{{n.desc}}" data-url="{{n.url}}">
                        <div class="xe-comment-entry">
                            <a class="xe-user-img">
                                {{if n.image}}
                                <img data-src="{{n.image}}" class="lozad" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                                <span style="display:none; background:{{n.title | randomColor}}">{{n.title | titleFirstWord}}</span>
                                {{else}}
                                <span style="background:{{n.title | randomColor}}">{{n.title | titleFirstWord}}</span>
                                {{/if}}
                            </a>
                            <div class="xe-comment">
                                <p class="title xe-user-name overflowClip_1">{{n.title}}</p>
                                <p class="desc overflowClip_2">{{n.desc}}</p>
                            </div>
                        </div>
                    </div>
                </div>
                {{/each}}
            </div>
        </div>
        {{/each}}
    {{/if}}
{{/each}}
</script>

<script type="text/javascript">
    // 更新最近使用网站数量
    function updateRecentSitesCount() {
        var history = localStorage.getItem(storageName);
        var count = history ? JSON.parse(history).length : 0;
        var el = document.getElementById('recent-sites');
        if (el) el.textContent = count;
    }
    // 缓存名称
    var storageName = 'zk_history'

    $(document).ready(function () {
        refreshStorage()
        render()
        // 更新最近使用网站数量
        updateRecentSitesCount()
        // 初始化所有tooltip
        $('[data-toggle="tooltip"]').tooltip({
            container: 'body',
            animation: true
        });
        // 旧的搜索监听已移除，使用新的搜索组件
        // 图片懒加载已移至imagePreloader.js统一管理

        // 侧边栏滚动事件隔离
        $('.menu-content1').on('wheel', function (e) {
            e.stopPropagation();
            var $this = $(this);
            var scrollTop = $this.scrollTop();
            var scrollHeight = $this.get(0).scrollHeight;
            var height = $this.height();
            var delta = e.originalEvent.deltaY;

            // 防止滚动到边界时影响页面滚动
            if ((delta < 0 && scrollTop === 0) || (delta > 0 && scrollTop >= scrollHeight - height)) {
                e.preventDefault();
            }
        });

        // 侧边栏触摸滚动事件隔离
        $('.menu-content1').on('touchmove', function (e) {
            e.stopPropagation();
        });

        $(document).on('click', '.has-sub', function () {
            var _this = $(this)
            if (!$(this).hasClass('expanded')) {
                setTimeout(function () {
                    _this.find('ul').attr("style", "")
                }, 300);

            } else {
                $('.has-sub ul').each(function (id, ele) {
                    var _that = $(this)
                    if (_this.find('ul')[0] != ele) {
                        setTimeout(function () {
                            _that.attr("style", "")
                        }, 300);
                    }
                })
            }
        })

        $("#main-menu li ul li").click(function () {
            $(this).siblings('li').removeClass('active'); // 删除其他兄弟元素的样式
            $(this).addClass('active'); // 添加当前元素的样式
        });
        return false;
    });

    var href = "";
    var pos = 0;
    $("a.smooth").click(function (e) {
        $("#main-menu li").each(function () {
            $(this).removeClass("active");
        });
        $(this).parent("li").addClass("active");
        e.preventDefault();
        href = $(this).attr("href");
        pos = $(href).position().top - 30;
    });

    var navTotal = 0 //网站总数

    // 更新页脚统计数据
    function updateFooterStats() {
        console.log('更新页脚统计数据，navTotal:', navTotal);

        // 计算分类数量
        let totalCategories = 0;
        if (typeof navData !== 'undefined' && navData.list) {
            navData.list.forEach(category => {
                if (category.title !== '最近使用') {
                    totalCategories++;
                    if (category.child) {
                        totalCategories += category.child.length;
                    }
                }
            });
        }

        // 计算运行天数
        const startDate = new Date('2022-01-01');
        const currentDate = new Date();
        const timeDiff = currentDate - startDate;
        const daysDiff = Math.floor(timeDiff / (1000 * 60 * 60 * 24));

        // 更新显示
        const totalSitesElement = document.getElementById('total-sites');
        const totalCategoriesElement = document.getElementById('total-categories');
        const runtimeElement = document.getElementById('runtime-days');

        if (totalSitesElement) {
            totalSitesElement.textContent = navTotal;
            console.log('已更新网站数显示:', navTotal);
        }
        if (totalCategoriesElement) {
            totalCategoriesElement.textContent = totalCategories;
            console.log('已更新分类数显示:', totalCategories);
        }
        if (runtimeElement) {
            runtimeElement.textContent = daysDiff;
            console.log('已更新运行天数显示:', daysDiff);
        }
    }

    // 模板渲染
    function render() {
        //注册过滤器，获取标题首个字符，没有logo则显示
        template.defaults.imports.titleFirstWord = function (title) {
            return title.substr(0, 1)
        }
        //注册过滤器，根据标题获取背景颜色
        template.defaults.imports.randomColor = (function () {
            var colors = ['#084177', '#2b580c', '#1eb2a6', '#721b65', '#f8615a', '#a8d3da', '#a8e6cf', '#4f3961', '#f1935c']
            var colorCache = new Map()
            return function (title) {
                if (colorCache.has(title)) {
                    return colorCache.get(title)
                }
                var color = colors[title.length % colors.length]
                colorCache.set(title, color)
                return color
            }
        })()
        //注册过滤器，获取分类下网站个数
        template.defaults.imports.getNavLength = function (nav, title) {
            if (title != "最近使用") {
                navTotal += nav.length
            }
            return nav.length
        }
        var data = navData
        // 使用DocumentFragment优化DOM操作
        var fragment = document.createDocumentFragment()
        var menuContent = document.getElementById('menu-content')
        var navList = document.getElementById('nav-list')

        var category = template('menu', data)
        var list = template('list', data)

        // 批量更新DOM
        requestAnimationFrame(function () {
            menuContent.innerHTML = category
            navList.innerHTML = list
            $(".nav-total").html(navTotal)

            // 更新页脚统计数据
            updateFooterStats()

            // 隐藏加载指示器并显示底部容器
            document.getElementById('loading-indicator').style.display = 'none';
            document.getElementById('footer-container').style.display = 'block';

            // 智能加载策略：根据网站数量决定加载方式
            if (navTotal <= 200) {
                // 网站数量少于等于200个，直接加载所有图片，不使用懒加载
                $('img[data-src]').each(function () {
                    var $img = $(this);
                    var src = $img.data('src');
                    if (src) {
                        $img.attr('src', src);
                        $img.removeAttr('data-src');
                        $img.removeClass('lozad');
                        $img.addClass('fade-in');
                    }
                });
                console.log('网站数量 ≤ 200，已直接加载所有图标');
            } else {
                // 网站数量超过200个，使用优化的图片预加载系统
                if (window.initializeImagePreloader) {
                    window.initializeImagePreloader();
                }
                console.log('网站数量 > 200，使用优化的图片预加载系统');
            }

            // 初始化现代化搜索组件
            if (window.SearchComponent) {
                window.modernSearch = new window.SearchComponent();
            }
        })
    }

    // 旧的搜索函数已移除，使用新的搜索组件

    //刷新最近访问历史
    function refreshStorage() {
        var history = localStorage.getItem(storageName)
        if (!history) {
            return
        }
        history = JSON.parse(history)
        // 确保每个历史记录都有image属性和clickCount
        history = history.map(function (item) {
            if (!item.image) {
                item.image = 'https://favicon.im/' + new URL(item.url).hostname;
            }
            if (!item.clickCount) {
                item.clickCount = 1;
            }
            return item;
        });
        // 按点击次数降序排序
        history.sort(function(a, b) {
            return (b.clickCount || 1) - (a.clickCount || 1);
        });
        navData.list[0].nav = history
    }

    //重新渲染历史访问
    function reloadHistory() {
        refreshStorage()
        $("#最近使用").remove()
        var data = { list: [] }
        data.list.push(navData.list[0])
        var list = template('list', data)
        $("#nav-list").prepend(list)
        updateRecentSitesCount() // 更新最近使用数量
        // 使用统一的图片预加载系统
        if (window.initializeImagePreloader) {
            window.initializeImagePreloader();
        }
    }

    // 智能更新历史记录（不重新渲染整个列表）
    function smartUpdateHistory(newItem, isMove) {
        var $recentSection = $("#最近使用");
        if ($recentSection.length === 0) {
            // 如果最近使用区域不存在，完整渲染
            reloadHistory();
            return;
        }

        var $row = $recentSection.find(".row");
        var existingCard = $row.find('.site-box[data-url="' + newItem.url + '"]').closest('.col-sm-3');

        if (existingCard.length > 0) {
            // 已存在，移动到最前面
            existingCard.prependTo($row);
        } else {
            // 不存在，创建新卡片并插入到最前面
            var bgColor = getRandomColor(newItem.title);
            var cardHtml = '<div class="col-sm-3 col-lg-2">' +
                '<div class="xe-widget xe-conversations box2 label-info site-box" data-toggle="tooltip" data-placement="bottom" title="' + newItem.desc + '" data-url="' + newItem.url + '" style="position: relative;">' +
                '<span class="delete-history-btn" data-url="' + newItem.url + '" onclick="event.stopPropagation(); deleteHistoryItem(\'' + newItem.url + '\')" style="position: absolute; top: 6px; right: 6px; width: 20px; height: 20px; border-radius: 50%; background: rgba(239, 68, 68, 0.1); color: #ef4444; font-size: 14px; line-height: 20px; text-align: center; cursor: pointer; z-index: 10; transition: all 0.2s ease; opacity: 0;" onmouseover="this.style.background=\'rgba(239, 68, 68, 0.2)\'" onmouseout="this.style.background=\'rgba(239, 68, 68, 0.1)\'">&times;</span>' +
                '<div class="xe-comment-entry">' +
                '<a class="xe-user-img">' +
                (newItem.image ? '<img src="' + newItem.image + '" loading="lazy" onerror="this.style.display=\'none\'; this.nextElementSibling.style.display=\'block\';" alt="' + newItem.title + '"><span style="display:none; background:' + bgColor + '">' + newItem.title.substr(0, 1) + '</span>' : '<span style="background:' + bgColor + '">' + newItem.title.substr(0, 1) + '</span>') +
                '</a>' +
                '<div class="xe-comment">' +
                '<p class="title xe-user-name overflowClip_1">' + newItem.title + '</p>' +
                '<p class="desc overflowClip_2">' + newItem.desc + '</p>' +
                '</div></div></div></div>';

            $row.prepend(cardHtml);
        }

        // 更新计数
        updateRecentSitesCount();
        var count = navData.list[0].nav ? navData.list[0].nav.length : 0;
        $recentSection.find(".nav-count").text(count);
    }

    // 获取随机颜色
    function getRandomColor(title) {
        var colors = ['#084177', '#2b580c', '#1eb2a6', '#721b65', '#f8615a', '#a8d3da', '#a8e6cf', '#4f3961', '#f1935c'];
        return colors[title.length % colors.length];
    }

    //历史记录 入栈（带点击次数追踪）
    function pushHistory(data, deleteData) {
        var history = localStorage.getItem(storageName)
        var deleteData = deleteData || ''
        history = JSON.parse(history)
        if (!history) {
            history = []
            data.clickCount = 1
            history.push(data)
        } else {
            // 查找是否已存在
            var existingIndex = -1
            for (var i = 0; i < history.length; i++) {
                if (history[i].url === data.url || history[i].url === deleteData) {
                    existingIndex = i
                    break
                }
            }

            if (existingIndex >= 0) {
                // 已存在，增加点击次数
                var existingItem = history[existingIndex]
                existingItem.clickCount = (existingItem.clickCount || 1) + 1
                // 从原位置移除
                history.splice(existingIndex, 1)
                // 插入到最前面
                history.unshift(existingItem)
            } else {
                // 新记录
                data.clickCount = 1
                history.unshift(data)
            }
        }
        localStorage.setItem(storageName, JSON.stringify(history))
    }

    //访问链接
    $(document).on("click", ".site-box", function (e) {
        var url = $(this).data("url")
        window.open(url)

        // 检查是否是最近使用分类下的网站
        var isRecentSite = $(this).closest('#最近使用').length > 0;

        var history = localStorage.getItem(storageName)
        history = JSON.parse(history)
        var inList = false

        if (history) {
            for (var i = 0; i < history.length; i++) {
                if (url == history[i].url) {
                    pushHistory(history[i], history[i].url)
                    inList = true
                    break;
                }
            }
        }
        if (!inList) {
            var title = $(this).find(".title").html()
            var desc = $(this).find(".desc").html()
            var image = 'https://favicon.im/' + new URL(url).hostname;
            if ($(this).find(".xe-user-img img").length > 0) {
                image = $($(this).find(".xe-user-img img")[0]).data('src') || $($(this).find(".xe-user-img img")[0]).attr('src')
            }
            var data = {
                title: title,
                url: url,
                desc: desc,
                image: image
            }
            pushHistory(data)
        }
        // 只更新localStorage，不刷新UI，下次进入时才显示
    })

    // 删除单个历史记录
    function deleteHistoryItem(url) {
        var history = localStorage.getItem(storageName)
        if (!history) return

        history = JSON.parse(history)
        history = history.filter(function(item) {
            return item.url !== url
        })

        localStorage.setItem(storageName, JSON.stringify(history))

        // 只移除最近使用区域内的卡片
        var $card = $('#最近使用 .site-box[data-url="' + url + '"]').closest('.col-sm-3');
        $card.fadeOut(200, function() {
            $(this).remove();
            // 更新计数
            var count = history.length;
            $("#最近使用 .nav-count").text(count);
        });
    }

    // 清空本站所有缓存
    function clearSiteCache() {
        if (confirm('确定要清空本站所有缓存吗？\n包括：最近使用记录、图标缓存等')) {
            // 清除localStorage中所有与本站相关的数据
            var keysToRemove = [];
            for (var i = 0; i < localStorage.length; i++) {
                var key = localStorage.key(i);
                // 清除历史记录、图标缓存等
                if (key && (key.indexOf('zk_') === 0 || key.indexOf('icon_') === 0 || key.indexOf('cache_') === 0)) {
                    keysToRemove.push(key);
                }
            }
            keysToRemove.forEach(function(key) {
                localStorage.removeItem(key);
            });

            // 清除sessionStorage
            sessionStorage.clear();

            // 显示提示并刷新页面
            alert('缓存已清空！页面将刷新。');
            location.reload();
        }
    }

</script>
<script src="assets/js/site-config-loader.js" defer></script>
<script src="assets/js/hero-functions.js" defer></script>
<script src="assets/js/nav-active.js" defer></script>
<script src="assets/js/bootstrap.min.js" defer></script>
<script src="assets/js/TweenMax.min.js" defer></script>
<script src="assets/js/resizeable.js" defer></script>
<script src="assets/js/xenon-toggles.js" defer></script>
<script src="assets/js/xenon-custom.js" defer></script>
<script src="assets/js/lozad.js" defer></script>
<script src="assets/js/imagePreloader.js" defer></script>
<script src="assets/js/search-component.js" defer></script>
<script src="assets/js/scroll-sync.js" defer></script>

<!-- 联系弹出框 -->
<div class="contact-modal" id="contactModal">
    <div class="contact-modal-content">
        <span class="contact-close" id="closeModal">&times;</span>
        <h3 class="contact-title">联系方式</h3>
        <div class="contact-info" id="contactInfo">ajin-2024</div>
        <button class="copy-button" id="copyButton">一键复制</button>
        <div class="copy-success" id="copySuccess">复制成功！</div>
        <div class="contact-note">添加时请备注来意</div>
    </div>
</div>

<script>
    document.getElementById('closeModal').addEventListener('click', function () {
        document.getElementById('contactModal').style.display = 'none';
    });

    document.getElementById('copyButton').addEventListener('click', function () {
        var contactInfo = document.getElementById('contactInfo').innerText;
        navigator.clipboard.writeText(contactInfo).then(function () {
            var copySuccess = document.getElementById('copySuccess');
            copySuccess.style.display = 'block';
            setTimeout(function () {
                copySuccess.style.display = 'none';
            }, 2000);
        });
    });

    window.onclick = function (event) {
        var modal = document.getElementById('contactModal');
        if (event.target == modal) {
            modal.style.display = 'none';
        }
    };

    // 全局关闭公告函数
    function closeAnnouncement() {
        var container = document.getElementById('announcementContainer');
        var message = document.getElementById('announcementMessage');
        if (message) {
            message.style.animation = 'announcementSlideOut 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards';
            setTimeout(function() {
                if (container) {
                    container.style.display = 'none';
                }
            }, 300);
        }
    }
</script>